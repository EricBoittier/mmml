Mon Apr 21 11:58:22 2025       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.107.02             Driver Version: 550.107.02     CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce RTX 2080 Ti     On  |   00000000:02:00.0 Off |                  N/A |
| 37%   55C    P8             14W /  250W |       1MiB /  11264MiB |      0%   E. Process |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
gpu24
Assuming unrestricted shared filesystem usage.
host: gpu24
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job stats:
job                 count
----------------  -------
all                     1
extract_clusters        1
qm_clusters             1
run_md                  1
run_qm                  1
setup_box               1
setup_residue           1
total                   7

Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 11:58:23 2025]
localrule setup_residue:
    output: xyz/initial.xyz
    jobid: 3
    reason: Missing output files: xyz/initial.xyz
    resources: tmpdir=/tmp, partition=gpu, gres=gpu:1

Waiting for more resources.
gpu24
/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_HOME=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_LIB_DIR=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
Requirement already satisfied: uv in /pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages (0.6.14)
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
Resolved 242 packages in 106ms
Audited 237 packages in 0.55ms
venv activated
venv path: /pchem-data/meuwly/boittier/home/mmml/.venv
venv python path: /pchem-data/meuwly/boittier/home/mmml/.venv/bin/python
UV_ENV_FILE: /pchem-data/meuwly/boittier/home/mmml/CHARMMSETUP
Setup complete
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
[Mon Apr 21 11:58:27 2025]
Finished jobid: 3 (Rule: setup_residue)
1 of 7 steps (14%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 11:58:27 2025]
localrule setup_box:
    input: xyz/initial.xyz
    output: setup-box.log
    jobid: 2
    reason: Missing output files: setup-box.log; Input files updated by another job: xyz/initial.xyz
    resources: tmpdir=/tmp, partition=gpu, gres=gpu:1

Waiting for more resources.
gpu24
/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_HOME=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_LIB_DIR=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
Requirement already satisfied: uv in /pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages (0.6.14)
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
Resolved 242 packages in 3ms
Audited 237 packages in 0.34ms
venv activated
venv path: /pchem-data/meuwly/boittier/home/mmml/.venv
venv python path: /pchem-data/meuwly/boittier/home/mmml/.venv/bin/python
UV_ENV_FILE: /pchem-data/meuwly/boittier/home/mmml/CHARMMSETUP
Setup complete
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
[Mon Apr 21 11:58:33 2025]
Finished jobid: 2 (Rule: setup_box)
2 of 7 steps (29%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 11:58:33 2025]
localrule run_qm:
    input: setup-box.log
    output: qm/initial.npz
    jobid: 1
    reason: Missing output files: qm/initial.npz; Input files updated by another job: setup-box.log
    resources: tmpdir=/tmp

Waiting for more resources.
gpu24
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
geometric-optimize called with the following command line:
/pchem-data/meuwly/boittier/home/mmml/mmml/pyscf4gpuInterface/calcs.py --output qm/initial.npz --mol xyz/initial.xyz --optimize --xc PBE0 --basis cc-pVDZ --hessian --thermo --gradient --harmonic

                                        [91m())))))))))))))))/[0m                     
                                    [91m())))))))))))))))))))))))),[0m                
                                [91m*)))))))))))))))))))))))))))))))))[0m             
                        [94m#,[0m    [91m()))))))))/[0m                [91m.)))))))))),[0m          
                      [94m#%%%%,[0m  [91m())))))[0m                        [91m.))))))))*[0m        
                      [94m*%%%%%%,[0m  [91m))[0m              [93m..[0m              [91m,))))))).[0m      
                        [94m*%%%%%%,[0m         [93m***************/.[0m        [91m.)))))))[0m     
                [94m#%%/[0m      [94m(%%%%%%,[0m    [93m/*********************.[0m       [91m)))))))[0m    
              [94m.%%%%%%#[0m      [94m*%%%%%%,[0m  [93m*******/,[0m     [93m**********,[0m      [91m.))))))[0m   
                [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [93m**[0m              [93m********[0m      [91m.))))))[0m  
          [94m##[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m                  [93m,******[0m      [91m/)))))[0m  
        [94m%%%%%%[0m      [94m.%%%%%%#[0m      [94m*%%%%%%,[0m    [92m,/////.[0m       [93m******[0m      [91m))))))[0m 
      [94m#%[0m      [94m%%[0m      [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [92m////////,[0m      [93m*****/[0m     [91m,)))))[0m 
    [94m#%%[0m  [94m%%%[0m  [94m%%%#[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m  [92m///////.[0m     [93m/*****[0m      [91m))))).[0m
  [94m#%%%%.[0m      [94m%%%%%#[0m      [94m/%%%%%%*[0m      [94m#%%%%%%[0m   [92m/////)[0m     [93m******[0m      [91m))))),[0m
    [94m#%%%%##%[0m  [94m%%%#[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m  [92m///////.[0m     [93m/*****[0m      [91m))))).[0m
      [94m##[0m     [94m%%%[0m      [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [92m////////.[0m      [93m*****/[0m     [91m,)))))[0m 
        [94m#%%%%#[0m      [94m/%%%%%%/[0m      [94m(%%%%%%[0m      [92m/)/)//[0m       [93m******[0m      [91m))))))[0m 
          [94m##[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m                  [93m*******[0m      [91m))))))[0m  
                [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [93m**.[0m             [93m/*******[0m      [91m.))))))[0m  
              [94m*%%%%%%/[0m      [94m(%%%%%%[0m   [93m********/*..,*/*********[0m       [91m*))))))[0m   
                [94m#%%/[0m      [94m(%%%%%%,[0m    [93m*********************/[0m        [91m)))))))[0m    
                        [94m*%%%%%%,[0m         [93m,**************/[0m         [91m,))))))/[0m     
                      [94m(%%%%%%[0m   [91m()[0m                              [91m))))))))[0m       
                      [94m#%%%%,[0m  [91m())))))[0m                        [91m,)))))))),[0m        
                        [94m#,[0m    [91m())))))))))[0m                [91m,)))))))))).[0m          
                                 [91m()))))))))))))))))))))))))))))))/[0m             
                                    [91m())))))))))))))))))))))))).[0m                
                                         [91m())))))))))))))),[0m                     

-=# [1;94m geomeTRIC started. Version: 1.1 [0m #=-
Current date and time: 2025-04-21 11:58:37
#========================================================#
#| [92m    Arguments passed to driver run_optimizer():     [0m |#
#========================================================#
customengine              <pyscf.geomopt.geometric_solver.PySCFEngine object at 0x151705116840> 
input                     /tmp/tmp1jr2gkp6/c214dd14-5f09-4115-9105-4e25fd39a20c 
logIni                    /pchem-data/meuwly/boittier/home/mmml/.venv/lib/python3.12/site-packages/pyscf/geomopt/log.ini 
----------------------------------------------------------
Custom engine selected.
Bonds will be generated from interatomic distances less than 1.20 times sum of covalent radii
27 internal coordinates being used (instead of 27 Cartesians)
Internal coordinate system (atoms numbered from 1):
Distance 1-2
Distance 1-4
Distance 1-5
Distance 1-6
Distance 2-3
Distance 6-7
Distance 6-8
Distance 6-9
Angle 2-1-4
Angle 2-1-5
Angle 2-1-6
Angle 4-1-5
Angle 4-1-6
Angle 5-1-6
Angle 1-2-3
Angle 1-6-7
Angle 1-6-8
Angle 1-6-9
Angle 7-6-8
Angle 7-6-9
Angle 8-6-9
Dihedral 4-1-2-3
Dihedral 5-1-2-3
Dihedral 6-1-2-3
Dihedral 2-1-6-7
Dihedral 2-1-6-8
Dihedral 2-1-6-9
Dihedral 4-1-6-7
Dihedral 4-1-6-8
Dihedral 4-1-6-9
Dihedral 5-1-6-7
Dihedral 5-1-6-8
Dihedral 5-1-6-9
Translation-X 1-9
Translation-Y 1-9
Translation-Z 1-9
Rotation-A 1-9
Rotation-B 1-9
Rotation-C 1-9
<class 'geometric.internal.Distance'> : 8
<class 'geometric.internal.Angle'> : 13
<class 'geometric.internal.Dihedral'> : 12
<class 'geometric.internal.TranslationX'> : 1
<class 'geometric.internal.TranslationY'> : 1
<class 'geometric.internal.TranslationZ'> : 1
<class 'geometric.internal.RotationA'> : 1
<class 'geometric.internal.RotationB'> : 1
<class 'geometric.internal.RotationC'> : 1
> ===== Optimization Info: ====
> Job type: Energy minimization
> Maximum number of optimization cycles: 300
> Initial / maximum trust radius (Angstrom): 0.100 / 0.300
> Convergence Criteria:
> Will converge when all 5 criteria are reached:
>  |Delta-E| < 1.00e-06
>  RMS-Grad  < 3.00e-04
>  Max-Grad  < 4.50e-04
>  RMS-Disp  < 1.20e-03
>  Max-Disp  < 1.80e-03
> === End Optimization Info ===
Step    0 : Gradient = 5.774e-03/7.337e-03 (rms/max) Energy = -154.8623236412
Hessian Eigenvalues: 2.30000e-02 2.30000e-02 5.00000e-02 ... 3.25073e-01 4.24520e-01 5.53427e-01
Step    1 : Displace = [0m1.906e-02[0m/[0m2.405e-02[0m (rms/max) Trust = 1.000e-01 (=) Grad = [0m1.780e-03[0m/[0m4.057e-03[0m (rms/max) E (change) = -154.8629100185 ([0m-5.864e-04[0m) Quality = [0m0.934[0m
Hessian Eigenvalues: 2.29999e-02 2.30000e-02 5.00000e-02 ... 3.48063e-01 4.25144e-01 5.51193e-01
Step    2 : Displace = [0m4.240e-03[0m/[0m5.012e-03[0m (rms/max) Trust = 1.414e-01 ([92m+[0m) Grad = [0m7.108e-04[0m/[0m1.654e-03[0m (rms/max) E (change) = -154.8629446985 ([0m-3.468e-05[0m) Quality = [0m1.130[0m
Hessian Eigenvalues: 2.29963e-02 2.30000e-02 4.99996e-02 ... 3.47481e-01 3.90534e-01 5.60060e-01
Step    3 : Displace = [92m1.019e-03[0m/[92m1.565e-03[0m (rms/max) Trust = 2.000e-01 ([92m+[0m) Grad = [92m1.113e-04[0m/[92m2.698e-04[0m (rms/max) E (change) = -154.8629488130 ([0m-4.115e-06[0m) Quality = [0m1.078[0m
Hessian Eigenvalues: 2.29694e-02 2.30000e-02 4.81030e-02 ... 3.47844e-01 3.82678e-01 5.56001e-01
Step    4 : Displace = [92m3.391e-04[0m/[92m5.386e-04[0m (rms/max) Trust = 2.828e-01 ([92m+[0m) Grad = [92m3.207e-05[0m/[92m7.064e-05[0m (rms/max) E (change) = -154.8629489833 ([92m-1.702e-07[0m) Quality = [0m0.970[0m
Hessian Eigenvalues: 2.29694e-02 2.30000e-02 4.81030e-02 ... 3.47844e-01 3.82678e-01 5.56001e-01
Converged! =D

    #==========================================================================#
    #| If this code has benefited your research, please support us by citing: |#
    #|                                                                        |#
    #| Wang, L.-P.; Song, C.C. (2016) "Geometry optimization made simple with |#
    #| translation and rotation coordinates", J. Chem, Phys. 144, 214108.     |#
    #| http://dx.doi.org/10.1063/1.4952956                                    |#
    #==========================================================================#
    Time elapsed since start of run_optimizer: 11.656 seconds
[Mon Apr 21 11:59:02 2025]
Finished jobid: 1 (Rule: run_qm)
3 of 7 steps (43%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 11:59:02 2025]
localrule run_md:
    input: qm/initial.npz
    output: omm/openmm.json
    jobid: 5
    reason: Missing output files: omm/openmm.json; Input files updated by another job: qm/initial.npz
    resources: tmpdir=/tmp

Waiting for more resources.
gpu24
slurmstepd: error: *** JOB 29798 ON gpu24 CANCELLED AT 2025-04-21T12:12:12 ***
Will exit after finishing currently running jobs (scheduler).
Traceback (most recent call last):

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 232, in spawn_job
    subprocess.check_call(cmd, shell=True)

  File "/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/lib/python3.12/subprocess.py", line 413, in check_call
    raise CalledProcessError(retcode, cmd)

subprocess.CalledProcessError: Command 'cd /pchem-data/meuwly/boittier/home/mmml/workflows/workflows/etoh && /pchem-data/meuwly/boittier/home/.conda/envs/snakemake/bin/python3.12 -m snakemake --snakefile '/pchem-data/meuwly/boittier/home/mmml/workflows/workflows/etoh/Snakefile' --target-jobs 'run_md:' --allowed-rules run_md --cores 2 --attempt 1 --force-use-threads  --force --target-files-omit-workdir-adjustment --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers input code params mtime software-env --conda-frontend 'conda' --shared-fs-usage software-deployment source-cache storage-local-copies sources input-output persistence --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --latency-wait 5 --scheduler 'ilp' --local-storage-prefix base64//LnNuYWtlbWFrZS9zdG9yYWdl --scheduler-solver-path '/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/bin' --default-resources base64//dG1wZGlyPXN5c3RlbV90bXBkaXI= --quiet progress rules host --mode 'subprocess' --local-groupid 'local'' died with <Signals.SIGTERM: 15>.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 247, in cached_or_run
    run_func(*args)

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 234, in spawn_job
    raise SpawnedJobError()

snakemake.exceptions.SpawnedJobError

[Mon Apr 21 12:12:12 2025]
Error in rule run_md:
    message: None
    jobid: 5
    input: qm/initial.npz
    output: omm/openmm.json
RuleException:
CalledProcessError in file "/pchem-data/meuwly/boittier/home/mmml/workflows/workflows/etoh/Snakefile", line 58:
Command 'set -euo pipefail;  hostname && module purge && module load openmm && CUDA_VISIBLE_DEVICES="0" python ~/mmml/mmml/openmmInterface/openmm-test1.py --psf_file psf/system.psf --pdb_file pdb/init-packmol.pdb --steps 1000000 --working_dir $PWD --temperatures 300 300 300 --pressures 1.0 1.0 1.0 --simulation_schedule minimization equilibration NPT --integrator Langevin > openmm-md.log' died with <Signals.SIGTERM: 15>.
Trying to restart job 5.
Will exit after finishing currently running jobs (scheduler).
Shutting down, this might take some time.
Complete log(s): /pchem-data/meuwly/boittier/home/mmml/workflows/workflows/etoh/.snakemake/log/2025-04-21T115823.233334.snakemake.log
WorkflowError:
At least one job did not complete successfully.
WorkflowError:
At least one job did not complete successfully.
