Mon Apr 21 16:58:11 2025       
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 550.107.02             Driver Version: 550.107.02     CUDA Version: 12.4     |
|-----------------------------------------+------------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id          Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |           Memory-Usage | GPU-Util  Compute M. |
|                                         |                        |               MIG M. |
|=========================================+========================+======================|
|   0  NVIDIA GeForce RTX 2080 Ti     On  |   00000000:01:00.0 Off |                  N/A |
| 27%   30C    P8              1W /  250W |       1MiB /  11264MiB |      0%   E. Process |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
|   1  NVIDIA GeForce RTX 2080 Ti     On  |   00000000:02:00.0 Off |                  N/A |
| 27%   30C    P8             17W /  250W |       1MiB /  11264MiB |      0%   E. Process |
|                                         |                        |                  N/A |
+-----------------------------------------+------------------------+----------------------+
                                                                                         
+-----------------------------------------------------------------------------------------+
| Processes:                                                                              |
|  GPU   GI   CI        PID   Type   Process name                              GPU Memory |
|        ID   ID                                                               Usage      |
|=========================================================================================|
|  No running processes found                                                             |
+-----------------------------------------------------------------------------------------+
gpu05
Assuming unrestricted shared filesystem usage.
host: gpu05
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 2
Rules claiming more threads will be scaled down.
Job stats:
job                 count
----------------  -------
all                     1
extract_clusters        1
qm_clusters             1
run_md                  1
run_qm                  1
setup_box               1
setup_residue           1
total                   7

Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 16:58:12 2025]
localrule setup_residue:
    output: xyz/initial.xyz
    jobid: 3
    reason: Missing output files: xyz/initial.xyz
    resources: tmpdir=/tmp, partition=gpu, gres=gpu:1

Waiting for more resources.
gpu05
/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_HOME=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_LIB_DIR=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
Requirement already satisfied: uv in /pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages (0.6.14)
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
Resolved 242 packages in 3ms
Audited 237 packages in 0.23ms
venv activated
venv path: /pchem-data/meuwly/boittier/home/mmml/.venv
venv python path: /pchem-data/meuwly/boittier/home/mmml/.venv/bin/python
UV_ENV_FILE: /pchem-data/meuwly/boittier/home/mmml/CHARMMSETUP
Setup complete
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
[Mon Apr 21 16:58:16 2025]
Finished jobid: 3 (Rule: setup_residue)
1 of 7 steps (14%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 16:58:16 2025]
localrule setup_box:
    input: xyz/initial.xyz
    output: setup-box.log
    jobid: 2
    reason: Missing output files: setup-box.log; Input files updated by another job: xyz/initial.xyz
    resources: tmpdir=/tmp, partition=gpu, gres=gpu:1

Waiting for more resources.
gpu05
/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_HOME=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
export CHARMM_LIB_DIR=/pchem-data/meuwly/boittier/home/mmml/setup/charmm
Requirement already satisfied: uv in /pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages (0.6.14)
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
Resolved 242 packages in 2ms
Audited 237 packages in 0.48ms
venv activated
venv path: /pchem-data/meuwly/boittier/home/mmml/.venv
venv python path: /pchem-data/meuwly/boittier/home/mmml/.venv/bin/python
UV_ENV_FILE: /pchem-data/meuwly/boittier/home/mmml/CHARMMSETUP
Setup complete
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
Traceback (most recent call last):
  File "/pchem-data/meuwly/boittier/home/mmml/mmml/pycharmm_interface/setupBox.py", line 614, in <module>
    cli()
  File "/pchem-data/meuwly/boittier/home/mmml/mmml/pycharmm_interface/setupBox.py", line 610, in cli
    main(args.density, args.side_length, args.residue, args.solvent)
  File "/pchem-data/meuwly/boittier/home/mmml/mmml/pycharmm_interface/setupBox.py", line 588, in main
    initialize_psf(residue, n_molecules, side_length, solvent)
  File "/pchem-data/meuwly/boittier/home/mmml/mmml/pycharmm_interface/setupBox.py", line 550, in initialize_psf
    write.pdb_card(f"pdb/{resid}-{n_molecules}.pdb")
    ^^^^^^^^^^^^^^
AttributeError: module 'pycharmm.write' has no attribute 'pdb_card'. Did you mean: 'psf_card'?
[Mon Apr 21 16:58:19 2025]
Finished jobid: 2 (Rule: setup_box)
2 of 7 steps (29%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 16:58:19 2025]
localrule run_qm:
    input: setup-box.log
    output: qm/initial.npz
    jobid: 1
    reason: Missing output files: qm/initial.npz; Input files updated by another job: setup-box.log
    resources: tmpdir=/tmp

Waiting for more resources.
gpu05
warning: The workspace `requires-python` value (`==3.12`) contains an exact match without a patch version. When omitted, the patch version is implicitly `0` (e.g., `==3.12.0`). Did you mean `==3.12.*`?
geometric-optimize called with the following command line:
/pchem-data/meuwly/boittier/home/mmml/mmml/pyscf4gpuInterface/calcs.py --output qm/initial.npz --mol xyz/initial.xyz --optimize --xc PBE0 --basis cc-pVDZ --hessian --thermo --gradient --harmonic

                                        [91m())))))))))))))))/[0m                     
                                    [91m())))))))))))))))))))))))),[0m                
                                [91m*)))))))))))))))))))))))))))))))))[0m             
                        [94m#,[0m    [91m()))))))))/[0m                [91m.)))))))))),[0m          
                      [94m#%%%%,[0m  [91m())))))[0m                        [91m.))))))))*[0m        
                      [94m*%%%%%%,[0m  [91m))[0m              [93m..[0m              [91m,))))))).[0m      
                        [94m*%%%%%%,[0m         [93m***************/.[0m        [91m.)))))))[0m     
                [94m#%%/[0m      [94m(%%%%%%,[0m    [93m/*********************.[0m       [91m)))))))[0m    
              [94m.%%%%%%#[0m      [94m*%%%%%%,[0m  [93m*******/,[0m     [93m**********,[0m      [91m.))))))[0m   
                [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [93m**[0m              [93m********[0m      [91m.))))))[0m  
          [94m##[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m                  [93m,******[0m      [91m/)))))[0m  
        [94m%%%%%%[0m      [94m.%%%%%%#[0m      [94m*%%%%%%,[0m    [92m,/////.[0m       [93m******[0m      [91m))))))[0m 
      [94m#%[0m      [94m%%[0m      [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [92m////////,[0m      [93m*****/[0m     [91m,)))))[0m 
    [94m#%%[0m  [94m%%%[0m  [94m%%%#[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m  [92m///////.[0m     [93m/*****[0m      [91m))))).[0m
  [94m#%%%%.[0m      [94m%%%%%#[0m      [94m/%%%%%%*[0m      [94m#%%%%%%[0m   [92m/////)[0m     [93m******[0m      [91m))))),[0m
    [94m#%%%%##%[0m  [94m%%%#[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m  [92m///////.[0m     [93m/*****[0m      [91m))))).[0m
      [94m##[0m     [94m%%%[0m      [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [92m////////.[0m      [93m*****/[0m     [91m,)))))[0m 
        [94m#%%%%#[0m      [94m/%%%%%%/[0m      [94m(%%%%%%[0m      [92m/)/)//[0m       [93m******[0m      [91m))))))[0m 
          [94m##[0m      [94m.%%%%%%/[0m      [94m(%%%%%%,[0m                  [93m*******[0m      [91m))))))[0m  
                [94m.%%%%%%/[0m      [94m*%%%%%%,[0m  [93m**.[0m             [93m/*******[0m      [91m.))))))[0m  
              [94m*%%%%%%/[0m      [94m(%%%%%%[0m   [93m********/*..,*/*********[0m       [91m*))))))[0m   
                [94m#%%/[0m      [94m(%%%%%%,[0m    [93m*********************/[0m        [91m)))))))[0m    
                        [94m*%%%%%%,[0m         [93m,**************/[0m         [91m,))))))/[0m     
                      [94m(%%%%%%[0m   [91m()[0m                              [91m))))))))[0m       
                      [94m#%%%%,[0m  [91m())))))[0m                        [91m,)))))))),[0m        
                        [94m#,[0m    [91m())))))))))[0m                [91m,)))))))))).[0m          
                                 [91m()))))))))))))))))))))))))))))))/[0m             
                                    [91m())))))))))))))))))))))))).[0m                
                                         [91m())))))))))))))),[0m                     

-=# [1;94m geomeTRIC started. Version: 1.1 [0m #=-
Current date and time: 2025-04-21 16:58:25
#========================================================#
#| [92m    Arguments passed to driver run_optimizer():     [0m |#
#========================================================#
customengine              <pyscf.geomopt.geometric_solver.PySCFEngine object at 0x15378e9b2300> 
input                     /tmp/tmp3yg50m32/0862cefc-abb5-46d0-9a5c-7cae3a8f2e0e 
logIni                    /pchem-data/meuwly/boittier/home/mmml/.venv/lib/python3.12/site-packages/pyscf/geomopt/log.ini 
----------------------------------------------------------
Custom engine selected.
Bonds will be generated from interatomic distances less than 1.20 times sum of covalent radii
15 internal coordinates being used (instead of 15 Cartesians)
Internal coordinate system (atoms numbered from 1):
Distance 1-2
Distance 1-3
Distance 1-4
Distance 4-5
Angle 2-1-4
Angle 3-1-4
Angle 1-4-5
Out-of-Plane 1-2-3-4
Dihedral 2-1-4-5
Dihedral 3-1-4-5
Translation-X 1-5
Translation-Y 1-5
Translation-Z 1-5
Rotation-A 1-5
Rotation-B 1-5
Rotation-C 1-5
<class 'geometric.internal.Distance'> : 4
<class 'geometric.internal.Angle'> : 3
<class 'geometric.internal.OutOfPlane'> : 1
<class 'geometric.internal.Dihedral'> : 2
<class 'geometric.internal.TranslationX'> : 1
<class 'geometric.internal.TranslationY'> : 1
<class 'geometric.internal.TranslationZ'> : 1
<class 'geometric.internal.RotationA'> : 1
<class 'geometric.internal.RotationB'> : 1
<class 'geometric.internal.RotationC'> : 1
> ===== Optimization Info: ====
> Job type: Energy minimization
> Maximum number of optimization cycles: 300
> Initial / maximum trust radius (Angstrom): 0.100 / 0.300
> Convergence Criteria:
> Will converge when all 5 criteria are reached:
>  |Delta-E| < 1.00e-06
>  RMS-Grad  < 3.00e-04
>  Max-Grad  < 4.50e-04
>  RMS-Disp  < 1.20e-03
>  Max-Disp  < 1.80e-03
> === End Optimization Info ===
Step    0 : Gradient = 3.330e-02/5.266e-02 (rms/max) Energy = -189.5679299995
Hessian Eigenvalues: 2.30000e-02 3.40682e-02 5.00000e-02 ... 4.97240e-01 5.58454e-01 9.80877e-01
Step    1 : Displace = [0m4.169e-02[0m/[0m6.590e-02[0m (rms/max) Trust = 1.000e-01 (=) Grad = [0m4.912e-03[0m/[0m6.702e-03[0m (rms/max) E (change) = -189.5709226748 ([0m-2.993e-03[0m) Quality = [0m0.896[0m
Hessian Eigenvalues: 2.29999e-02 3.40722e-02 5.00000e-02 ... 4.51591e-01 5.54161e-01 9.61223e-01
Step    2 : Displace = [0m1.024e-02[0m/[0m1.181e-02[0m (rms/max) Trust = 1.414e-01 ([92m+[0m) Grad = [0m2.092e-03[0m/[0m3.206e-03[0m (rms/max) E (change) = -189.5710885114 ([0m-1.658e-04[0m) Quality = [0m0.780[0m
Hessian Eigenvalues: 2.30000e-02 3.41758e-02 4.99997e-02 ... 4.63715e-01 5.64805e-01 9.88994e-01
Step    3 : Displace = [0m7.025e-03[0m/[0m9.728e-03[0m (rms/max) Trust = 2.000e-01 ([92m+[0m) Grad = [0m1.025e-03[0m/[0m1.429e-03[0m (rms/max) E (change) = -189.5710933391 ([0m-4.828e-06[0m) Quality = [0m0.144[0m
Hessian Eigenvalues: 2.30000e-02 3.44628e-02 4.99984e-02 ... 5.41315e-01 6.09209e-01 9.15988e-01
Step    4 : Displace = [0m3.657e-03[0m/[0m5.176e-03[0m (rms/max) Trust = 3.513e-03 ([91m-[0m) Grad = [92m1.619e-04[0m/[92m2.272e-04[0m (rms/max) E (change) = -189.5711100346 ([0m-1.670e-05[0m) Quality = [0m0.964[0m
Hessian Eigenvalues: 2.30000e-02 3.43567e-02 4.99972e-02 ... 5.34526e-01 5.70595e-01 9.28976e-01
Step    5 : Displace = [92m4.647e-04[0m/[92m6.877e-04[0m (rms/max) Trust = 4.968e-03 ([92m+[0m) Grad = [92m1.057e-04[0m/[92m1.960e-04[0m (rms/max) E (change) = -189.5711100931 ([92m-5.853e-08[0m) Quality = [0m0.254[0m
Hessian Eigenvalues: 2.30000e-02 3.43567e-02 4.99972e-02 ... 5.34526e-01 5.70595e-01 9.28976e-01
Converged! =D

    #==========================================================================#
    #| If this code has benefited your research, please support us by citing: |#
    #|                                                                        |#
    #| Wang, L.-P.; Song, C.C. (2016) "Geometry optimization made simple with |#
    #| translation and rotation coordinates", J. Chem, Phys. 144, 214108.     |#
    #| http://dx.doi.org/10.1063/1.4952956                                    |#
    #==========================================================================#
    Time elapsed since start of run_optimizer: 9.445 seconds
[Mon Apr 21 16:58:58 2025]
Finished jobid: 1 (Rule: run_qm)
3 of 7 steps (43%) done
Select jobs to execute...
Execute 1 jobs...

[Mon Apr 21 16:58:59 2025]
localrule run_md:
    input: qm/initial.npz
    output: omm/openmm.json
    jobid: 5
    reason: Missing output files: omm/openmm.json; Input files updated by another job: qm/initial.npz
    resources: tmpdir=/tmp

Waiting for more resources.
gpu05
slurmstepd: error: *** JOB 29819 ON gpu05 CANCELLED AT 2025-04-21T18:59:06 ***
RuleException:
CalledProcessError in file "/pchem-data/meuwly/boittier/home/mmml/workflows/workflows/forh/Snakefile", line 58:
Command 'set -euo pipefail;  hostname && module purge && module load openmm && CUDA_VISIBLE_DEVICES="0" python ~/mmml/mmml/openmmInterface/openmm-test1.py --psf_file psf/system.psf --pdb_file pdb/init-packmol.pdb --steps 1000000 --working_dir $PWD --temperatures 300 300 300 --pressures 1.0 1.0 1.0 --simulation_schedule minimization equilibration NPT --integrator Langevin > openmm-md.log' died with <Signals.SIGTERM: 15>.
WorkflowError:
At least one job did not complete successfully.
Will exit after finishing currently running jobs (scheduler).
Traceback (most recent call last):

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 232, in spawn_job
    subprocess.check_call(cmd, shell=True)

  File "/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/lib/python3.12/subprocess.py", line 413, in check_call
    raise CalledProcessError(retcode, cmd)

subprocess.CalledProcessError: Command 'cd /pchem-data/meuwly/boittier/home/mmml/workflows/workflows/forh && /pchem-data/meuwly/boittier/home/.conda/envs/snakemake/bin/python3.12 -m snakemake --snakefile '/pchem-data/meuwly/boittier/home/mmml/workflows/workflows/forh/Snakefile' --target-jobs 'run_md:' --allowed-rules run_md --cores 2 --attempt 1 --force-use-threads  --force --target-files-omit-workdir-adjustment --max-inventory-time 0 --nocolor --notemp --no-hooks --nolock --ignore-incomplete --rerun-triggers software-env input mtime params code --conda-frontend 'conda' --shared-fs-usage input-output storage-local-copies sources software-deployment source-cache persistence --wrapper-prefix 'https://github.com/snakemake/snakemake-wrappers/raw/' --latency-wait 5 --scheduler 'ilp' --local-storage-prefix base64//LnNuYWtlbWFrZS9zdG9yYWdl --scheduler-solver-path '/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/bin' --default-resources base64//dG1wZGlyPXN5c3RlbV90bXBkaXI= --quiet progress rules host --mode 'subprocess' --local-groupid 'local'' died with <Signals.SIGTERM: 15>.


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "/pchem-data/meuwly/boittier/home/.conda/envs/snakemake/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 247, in cached_or_run
    run_func(*args)

  File "/pchem-data/meuwly/boittier/home/.local/lib/python3.12/site-packages/snakemake/executors/local.py", line 234, in spawn_job
    raise SpawnedJobError()

snakemake.exceptions.SpawnedJobError

[Mon Apr 21 18:59:06 2025]
Error in rule run_md:
    message: None
    jobid: 5
    input: qm/initial.npz
    output: omm/openmm.json
Trying to restart job 5.
Will exit after finishing currently running jobs (scheduler).
Shutting down, this might take some time.
Complete log(s): /pchem-data/meuwly/boittier/home/mmml/workflows/workflows/forh/.snakemake/log/2025-04-21T165812.415520.snakemake.log
WorkflowError:
At least one job did not complete successfully.
